<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script th:inline="javascript">
    var isFreeUsername = [[${isFreeUsername}]];

    function check() {
        if (!isEmpty(isFreeUsername))
            alert("用户名已存在");
    }

    function isEmpty(obj) {
        if (typeof obj == "undefined" || obj == null || obj == "") {
            return true;
        } else {
            return false;
        }
    }
</script>
<body onload="check()">
<form method="post" action="/user/updateUsername">
    新用户名:<input type="text" name="newUsername" required="required"><span style="color:red">*</span><br>
    <input th:if="${username}" type="text" hidden="hidden" name="username" th:value="${username}">
    <input type="submit" value="修改">
</form>
</body>
</html>